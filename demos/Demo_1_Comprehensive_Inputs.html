<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd">
  
<!-- Beware: This markup is purely to demonstrate AutoSave behaviour so it's far from perfect! -->

<html>
<head>
  <title>AutoSaveJS Demos | Comprehensive Inputs</title>

  <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">

  <script type="text/javascript" src="../lib/jquery-3.1.1.js"></script>
  <script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="../src/AutoSaveJS.js"></script>
  
  <script>
	
	//No overrides required here
	var autoSave = new AutoSave();
	
	var disableAutoSave = function(sender){
	
		autoSave.dispose();
		sender.disabled = true;
		sender.style.color = 'lightgray';
		$('#autosave_enabled').slideUp();
	};
	
	var submitFeedback = function(sender){
	
		//Get the string representing the current value across all the controls
		var data = autoSave.getCurrentValue();
		
		//Send it off to your server
		//var oReq = new XMLHttpRequest()
		//oReq.open("POST", "www.example.com/api/feedback");
		//oReq.send(data);
		
		//Clear all local data for next user for when they refresh
		autoSave.resetStore();
				
		sender.disabled = true;
		var confirmation = "<h3>Thank you. (Now when you refresh, the data is cleared locally)</h3>";
		
		var div = document.createElement("div");
		div.innerHTML = confirmation;
		
		document.querySelector(".panel-body").appendChild(div);
	}
  </script>
  
</head>

<body style="padding:30px">

	<div class = 'panel panel-info'>
		<div class = 'panel-heading'>Your Marketing Preferences</div>
	
		<div class = 'panel-body'>
	
		<div class="alert alert-success" style='text-align:center' id='autosave_enabled'>
		  <b>Note:</b> This form will autosave as you go - hit F5 at any time!
		  
		  <button id='disable_autosave' onclick='disableAutoSave(this)' style='margin-left:20px'>
			Disable AutoSave
		  </button>
		</div>
		
		<div class="input-group">
			<label>Please enter your name :-</label>
		  <input type="text" name='name' class="form-control" placeholder="asdf is fine too">
		</div>

		<br />
		
		<label>Please select your status :-</label>
		<div class="input-group">
		  
		  <div>
			<input type='radio' name='status' value='single'>Single
		  </div>
		  
		  <div>
		  <input type='radio' name='status' value='married'>Married
		  </div>
		  
		  <div>
		  <input type='radio' name='status' value='divorced'>Divorced
		  </div>

		  <div>
		  <input type='radio' name='status' value='divorced & remarried'>Divorced &amp; Remarried
		  </div>

		  <div>
		  <input type='radio' name='status' value='divorced,remarried & divorced'>Divorced, Remarried &amp; Divorced
		  </div>

		  <div>
		  <input type='radio' name='status' value='divorced,remarried,divorced&remarried'>Divorced, Remarried, Divorced &amp; Remarried
		  </div>

		  <div>
		  <input type='radio' name='status' value='other'>Don't ask</input>
		  </div>
		</div>

		<br />
		
		<label>Please select your age group :-</label>
		<div class="input-group">
		  <select class="form-control" name='age_group'>
			<option disabled selected></option>
			<option value='15-25'>15-25</option>
			<option value='26-32'>26-32</option>
			<option value='33-39'>33-39</option>
			<option value='40-58'>40-58</option>
			<option value='59+'>59+</option>
		  </select>
		</div>

		<br />
		
		<label for="basic-url">Please select which ads we can show you :-</label>
		<div class="input-group">
		  <div>
			<input type='checkbox' name='adType' value='fashion'>Fashion
		  </div>

		  <div>
		  <input type='checkbox' name='adType' value='more_fashion'>More Fashion
		  </div>
		  
		  <div>
		  <input type='checkbox' name='adType' value='tech'>Techmology
		  </div>
		  
		  <div>
		  <input type='checkbox' name='adType' value='beds'>Extortionately priced beds &amp; sofas
		  </div>

		  <div>
		  <input type='checkbox' name='adType' value='find_nearest'>Find-Your-Nearest-_____ startups
		  </div>

		  <div>
		  <input type='checkbox' name='adType' value='flights'>Even Cheaper Flights
		  </div>

		  <div>
		  <input type='checkbox' name='adType' value='noShow' disabled>Don't Show Ads
		  </div>
		</div>

		<br />

		<div>
			<label>Please describe your frustration with spam email :-</label>
			<textarea name='frustration' style='width:100%'></textarea>
		</div>
		
		<button type='submit' onclick='submitFeedback(this)'>Submit</button>
	</div>
	</div>
</body>
</html>
